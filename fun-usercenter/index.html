<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/XDSDK-Doc/blog/rss.xml" title="XDSDK 文档中心 Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/XDSDK-Doc/blog/atom.xml" title="XDSDK 文档中心 Blog Atom Feed"><title data-react-helmet="true">用户 | XDSDK 文档中心</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="用户 | XDSDK 文档中心"><meta data-react-helmet="true" name="description" content="1.打开用户中心"><meta data-react-helmet="true" property="og:description" content="1.打开用户中心"><meta data-react-helmet="true" property="og:url" content="https://xindong.github.io/XDSDK-Doc/fun-usercenter"><link data-react-helmet="true" rel="shortcut icon" href="/XDSDK-Doc/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://xindong.github.io/XDSDK-Doc/fun-usercenter"><link rel="stylesheet" href="/XDSDK-Doc/styles.98143238.css">
<link rel="stylesheet" href="/XDSDK-Doc/main.c62259f1.css">
<link rel="preload" href="/XDSDK-Doc/styles.04ea6341.js" as="script">
<link rel="preload" href="/XDSDK-Doc/runtime~main.3aec8548.js" as="script">
<link rel="preload" href="/XDSDK-Doc/main.00965467.js" as="script">
<link rel="preload" href="/XDSDK-Doc/1.ab684445.js" as="script">
<link rel="preload" href="/XDSDK-Doc/2.f8601547.js" as="script">
<link rel="preload" href="/XDSDK-Doc/22.95066253.js" as="script">
<link rel="preload" href="/XDSDK-Doc/935f2afb.84422a50.js" as="script">
<link rel="preload" href="/XDSDK-Doc/17896441.f8f7aa8e.js" as="script">
<link rel="preload" href="/XDSDK-Doc/5ca416a0.34463257.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/XDSDK-Doc/"><img src="/XDSDK-Doc/img/logo.png" alt="XDSDK" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/XDSDK-Doc/img/logo.png" alt="XDSDK" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"></a><a class="navbar__item navbar__link" href="/XDSDK-Doc/">XDSDK</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/xindong/XDSDK-Doc" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/XDSDK-Doc/"><img src="/XDSDK-Doc/img/logo.png" alt="XDSDK" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/XDSDK-Doc/img/logo.png" alt="XDSDK" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/XDSDK-Doc/">XDSDK</a></li><li class="menu__list-item"><a href="https://github.com/xindong/XDSDK-Doc" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">用户</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="1打开用户中心"></a>1.打开用户中心<a class="hash-link" href="#1打开用户中心" title="Direct link to heading">#</a></h2><p>调用该接口打开用户中心界面，用户可以在该界面进行登出和登录操作，游戏注意正确处理回调。在未登录状态，无法打开用户中心。在用户中心中，用户可进行登出操作，此时交互界面将消失。游戏需要提供引导用户重新进行登录的操作界面。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">/**</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">* @return false表示尚未登录，重复调用默认为成功</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">*/</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">public static bool OpenUserCenter()</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="示例代码"></a>示例代码<a class="hash-link" href="#示例代码" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-cs codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">XDSDK.OpenUserCenter()</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="2微信分享"></a>2.微信分享<a class="hash-link" href="#2微信分享" title="Direct link to heading">#</a></h2><p><strong><span style="color:#f00;padding:0.2rem">微信分享功能即将停止维护，建议单独接入</span></strong></p><p>调用心动SDK的微信分享功能。</p><p>参数说明</p><table><thead><tr><th>通用参数</th><th>是否必须</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>text</td><td>否</td><td>string</td><td>分享文字内容</td></tr><tr><td>bText</td><td>是</td><td>string</td><td>分享内容是否为多媒体内容（1文本内容，0多媒体内容）</td></tr><tr><td>scene</td><td>是</td><td>string</td><td>分享场景（SESSION对话，TIMELINE朋友圈，FAVOURITE收藏）</td></tr><tr><td>shareType</td><td>是</td><td>string</td><td>分享类型（TEXT，IMAGE，MUSIC，VIDEO，WEB）</td></tr><tr><td>title</td><td>否</td><td>string</td><td>分享标题</td></tr><tr><td>description</td><td>否</td><td>string</td><td>分享描述信息</td></tr><tr><td>thumbPath</td><td>否</td><td>string</td><td>缩略图路径 （安卓不支持Url，请填写文件路径。）</td></tr><tr><td>meidaTagName</td><td>否</td><td>string</td><td></td></tr><tr><td>messageExt</td><td>否</td><td>string</td><td></td></tr><tr><td>messageAction</td><td>否</td><td>string</td><td></td></tr></tbody></table><p>以下参数，请根据不同的分享类型（shareType参数）进行设置</p><table><thead><tr><th>图片分享</th><th>是否必须</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>imageUrl</td><td>是</td><td>string</td><td>分享图片Url （安卓不支持Url，请填写文件路径）</td></tr></tbody></table><table><thead><tr><th>音乐分享</th><th>是否必须</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>musicUrl</td><td>是</td><td>string</td><td>音乐链接 （请填写音乐路径。例：<a href="https://www.xd.com/music.mp3%EF%BC%89" target="_blank" rel="noopener noreferrer">https://www.xd.com/music.mp3）</a></td></tr><tr><td>musicLowBandUrl</td><td>否</td><td>string</td><td>低带宽音乐链接</td></tr><tr><td>musicDataUrl</td><td>否</td><td>string</td><td>音乐数据链接</td></tr><tr><td>musicLowBandDataUrl</td><td>否</td><td>string</td><td>低带宽状音乐数据链接</td></tr></tbody></table><table><thead><tr><th>视频分享</th><th>是否必须</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>videoUrl</td><td>是</td><td>string</td><td>视频链接</td></tr><tr><td>videoLowBandUrl</td><td>否</td><td>string</td><td>低带宽视频链接</td></tr></tbody></table><table><thead><tr><th>网页分享参数</th><th>是否必须</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>webpageUrl</td><td>是</td><td>string</td><td>网页链接</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="示例代码-1"></a>示例代码<a class="hash-link" href="#示例代码-1" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-cs codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">//分享文字</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">Dictionary&lt;string, string&gt; content = new Dictionary&lt;string, string&gt; ();</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;title&quot;, &quot;***title***&quot;);  //标题</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;description&quot;, &quot;***description***&quot;); //描述</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;text&quot;, &quot;***text***&quot;); //内容</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;scene&quot;, &quot;SESSION&quot;); //scene场景值</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;shareType&quot;, &quot;TEXT&quot;);  //分享类型 文字</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">xdsdk.XDSDK.Share (content);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">//分享图片</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">Dictionary&lt;string, string&gt; content = new Dictionary&lt;string, string&gt; ();</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;title&quot;, &quot;***title***&quot;);  //标题</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;description&quot;, &quot;***description***&quot;);  //描述</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;thumbPath&quot;, &quot;/storage/emulated/0/2.png&quot;); //预览图路径</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;imageUrl&quot;, &quot;/storage/emulated/0/2.png&quot;); //图片路径</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;scene&quot;, &quot;SESSION&quot;); //scene场景值</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;shareType&quot;, &quot;IMAGE&quot;);  //分享类型 图片</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">xdsdk.XDSDK.Share (content);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">//分享音乐</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">Dictionary&lt;string, string&gt; content = new Dictionary&lt;string, string&gt; ();</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;title&quot;, &quot;***title***&quot;); //标题</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;description&quot;, &quot;***description***&quot;); //描述</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;thumbPath&quot;, &quot;/storage/emulated/0/2.png&quot;); //预览图路径</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;musicUrl&quot;, &quot;http://staff2.ustc.edu.cn/~wdw/softdown/index.asp/0042515_05.ANDY.mp3&quot;);  //音乐url</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;scene&quot;, &quot;SESSION&quot;);  //scene场景值</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;shareType&quot;, &quot;MUSIC&quot;);  //分享类型 音乐</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">xdsdk.XDSDK.Share (content);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">//分享视频</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">Dictionary&lt;string, string&gt; content = new Dictionary&lt;string, string&gt; ();</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;title&quot;, &quot;***title***&quot;); //标题</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;description&quot;, &quot;***description***&quot;); //描述</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;thumbPath&quot;, &quot;/storage/emulated/0/2.png&quot;); //预览图路径</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;videoUrl&quot;, &quot;https://www.xd.com&quot;);  //视频url</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;scene&quot;, &quot;SESSION&quot;);  //scene场景值</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;shareType&quot;, &quot;VIDEO&quot;);  //分享类型 视频</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">xdsdk.XDSDK.Share (content);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">//分享网页</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">Dictionary&lt;string, string&gt; content = new Dictionary&lt;string, string&gt; ();</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;title&quot;, &quot;***title***&quot;); //标题</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;description&quot;, &quot;***description***&quot;); //描述</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;thumbPath&quot;, &quot;/storage/emulated/0/2.png&quot;); //预览图路径</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;webpageUrl&quot;, &quot;https://www.xd.com&quot;);  //视频url</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;scene&quot;, &quot;SESSION&quot;);  //scene场景值</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">content.Add (&quot;shareType&quot;, &quot;WEB&quot;);  //分享类型 网页</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">xdsdk.XDSDK.Share (content);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>调用分享接口会触发下列回调</p><table><thead><tr><th>类别</th><th>回调方法</th></tr></thead><tbody><tr><td>分享成功</td><td>public void OnWXShareSucceed()</td></tr><tr><td>分享失败</td><td>public void OnWXShareFailed(string msg)</td></tr></tbody></table><span style="color:#f00;padding:0.2rem">注意：分享过程中，若用户选择留在微信，则不会产生分享回调。游戏不应当完全依赖分享回调。</span><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="3实名认证"></a>3.实名认证<a class="hash-link" href="#3实名认证" title="Direct link to heading">#</a></h2><p>调用该方法时，弹出实名认证窗口。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-cs codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">public static void OpenRealName()</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="示例代码-2"></a>示例代码<a class="hash-link" href="#示例代码-2" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-cs codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">XDSDK.OpenRealName();</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>调用该接口会触发下列回调</p><table><thead><tr><th>类别</th><th>回调方法</th></tr></thead><tbody><tr><td>确认退出</td><td>public void OnRealNameSucceed()</td></tr><tr><td>取消退出</td><td>public void OnRealNameFailed(string error_msg)</td></tr></tbody></table><span style="color:#f00;padding:0.2rem">注意：实名认证结果以服务端authoriz_state参数为准（见4.1）。</span><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="4客服"></a>4.客服<a class="hash-link" href="#4客服" title="Direct link to heading">#</a></h2><p>调用该方法时，弹出客服窗口。</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-cs codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">public static void UserFeedback()</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="示例代码-3"></a>示例代码<a class="hash-link" href="#示例代码-3" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-cs codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">XDSDK.UserFeedback();</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="5防沉迷"></a>5.防沉迷<a class="hash-link" href="#5防沉迷" title="Direct link to heading">#</a></h2><p>unity 2.3.0版本优化防沉迷，支持单机游戏和联网游戏。</p><p><strong>
下面两种使用方式的区别：<br>第二个是游戏前后台时调用，记录游戏时长，固定的。<br>第一个应用场景是，玩家正在打比赛/游戏中，时间快到了。可以调个GameStop，停止计时。
</strong></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-cs codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">//停止计时和恢复计时</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">public static void GameStop();</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">public static void GameResume ();</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Android 防沉迷依赖于 XDSDK.OnResume 和 XDSDK.OnStop 接口，所以游戏应确保这两个接口接入正常，在 unity 中接入示例：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-cs codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">//游戏前后台时固定调用，记录游戏时常</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">void OnApplicationPause(bool pauseStatus)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        if (pauseStatus)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            xdsdk.XDSDK.OnStop();</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        else</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            xdsdk.XDSDK.OnResume();</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="6打开协议页面"></a>6.打开协议页面<a class="hash-link" href="#6打开协议页面" title="Direct link to heading">#</a></h2><p>游戏需要打开协议的内容时，可以调用该接口，示例如下：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-cs codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">xdsdk.XDSDK.OpenProtocol(xdsdk.XDSDK.ProtocolType.PROTOCOL_TYPE_GAME);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>参数为协议类型，包括  PROTOCOL_TYPE_USER(用户协议),PROTOCOL_TYPE_GAME(游戏协议),PROTOCOL_TYPE_PRIVACY(隐私协议)</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="7taptap论坛"></a>7.TapTap论坛<a class="hash-link" href="#7taptap论坛" title="Direct link to heading">#</a></h2><p>导入<code>namespace com.taptap.sdk</code></p><p>打开论坛</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-cs codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">appid 游戏论坛ID，与TapTap开发者ID不同</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">public void OpenTapTapForum(string appid)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>示例</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-cs codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">TapTapSDK.Instance.OpenTapTapForum(&quot;123&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="android配置"></a>Android配置<a class="hash-link" href="#android配置" title="Direct link to heading">#</a></h3><ol><li><p>确认 /app/manifest/AndroidManifest.xml 文件。</p></li><li><p>将 uses-permission 元素添加到清单文件中：</p></li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-cs codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ol start="3"><li>添加 Activity元素到清单文件中:</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-java codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token operator">&lt;</span><span class="token plain">activity android</span><span class="token operator">:</span><span class="token plain">name</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;com.taptap.sdk.TapTapActivity&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    android</span><span class="token operator">:</span><span class="token plain">exported</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;false&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    android</span><span class="token operator">:</span><span class="token plain">configChanges</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;keyboard|keyboardHidden|screenLayout|screenSize|orientation&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    android</span><span class="token operator">:</span><span class="token plain">screenOrientation</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;sensorLandscape&quot;</span><span class="token comment" style="color:rgb(98, 114, 164)">//请保持和游戏屏幕方向相同</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    android</span><span class="token operator">:</span><span class="token plain">theme</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;@android:style/Theme.NoTitleBar&quot;</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token plain">activity</span><span class="token operator">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="ios配置"></a>iOS配置<a class="hash-link" href="#ios配置" title="Direct link to heading">#</a></h3><p>打开infog.plist，添加授权文案</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;key&gt;NSPhotoLibraryUsageDescription&lt;/key&gt;   </span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;string&gt;XXXX需要您的同意,才能访问相册&lt;/string&gt;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;key&gt;NSCameraUsageDescription&lt;/key&gt;   </span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;string&gt;XXXX需要您的同意,才能访问相机&lt;/string&gt;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;dict&gt;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;true/&gt;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/dict&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="8xdlive直播"></a>8.XDLive直播<a class="hash-link" href="#8xdlive直播" title="Direct link to heading">#</a></h2><p>XDSDK中包含了游戏直播相关组件。</p><p>开通步骤：</p><p>1.联系XDSDK相关人员开通，获取appid和授权直播源管理后台。</p><p>2.接口</p><p>打开论坛</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-cs codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">// appid: 申请到的appid</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">public void OpenXDLive(string appid);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">// appid: 申请到的appid</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">//   uri: 自定义地址</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">public void OpenXDLive(string appid,string uri);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">//       appid: 申请到的appid</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">//         uri: 自定义地址</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">// orientation: 指定屏幕方向（支持竖屏游戏强制设置横屏）</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">public void OpenXDLive(string appid,string uri,int orientation);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>示例：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-cs codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">com.xdsdk.xdlive.XDLive.Instance.OpenXDLive(&quot;123&quot;);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>设置直播相关事件回调：</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-cs codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">public void SetCallback(XDLiveCallback callback)；</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>回调方法：
cs</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">// 直播打开</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">public override void OnXDLiveOpen();</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">// 直播关闭</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">public override void OnXDLiveClosed();</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="9-地区判断"></a>9. 地区判断<a class="hash-link" href="#9-地区判断" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-cs codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">using TDSCommon;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">TDSCommon.TDSCommon.GetRegionCode((isMainland)=&gt;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">{</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    //true 大陆 false 非大陆</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">});</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1打开用户中心" class="table-of-contents__link">1.打开用户中心</a></li><li><a href="#2微信分享" class="table-of-contents__link">2.微信分享</a></li><li><a href="#3实名认证" class="table-of-contents__link">3.实名认证</a></li><li><a href="#4客服" class="table-of-contents__link">4.客服</a></li><li><a href="#5防沉迷" class="table-of-contents__link">5.防沉迷</a></li><li><a href="#6打开协议页面" class="table-of-contents__link">6.打开协议页面</a></li><li><a href="#7taptap论坛" class="table-of-contents__link">7.TapTap论坛</a><ul><li><a href="#android配置" class="table-of-contents__link">Android配置</a></li><li><a href="#ios配置" class="table-of-contents__link">iOS配置</a></li></ul></li><li><a href="#8xdlive直播" class="table-of-contents__link">8.XDLive直播</a></li><li><a href="#9-地区判断" class="table-of-contents__link">9. 地区判断</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/XDSDK-Doc/styles.04ea6341.js"></script>
<script src="/XDSDK-Doc/runtime~main.3aec8548.js"></script>
<script src="/XDSDK-Doc/main.00965467.js"></script>
<script src="/XDSDK-Doc/1.ab684445.js"></script>
<script src="/XDSDK-Doc/2.f8601547.js"></script>
<script src="/XDSDK-Doc/22.95066253.js"></script>
<script src="/XDSDK-Doc/935f2afb.84422a50.js"></script>
<script src="/XDSDK-Doc/17896441.f8f7aa8e.js"></script>
<script src="/XDSDK-Doc/5ca416a0.34463257.js"></script>
</body>
</html>